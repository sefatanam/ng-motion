import{a as B}from"./chunk-KOH55JOY.js";import{$a as H,Bb as g,Fa as D,Ga as O,Ha as k,Ka as M,La as y,Na as i,Oa as r,Pa as I,Ua as T,_a as F,aa as E,ab as X,db as a,eb as C,fb as z,gb as R,hb as Y,ib as w,jb as N,na as u,ra as _,tb as x,xb as b,ya as S}from"./chunk-LTFMD4SH.js";var j=["dragBox1"],q=["dragHorizontal"],A=["dragVertical"],$=["sliderTrack"],Q=["sliderThumb"],W=["sliderFill"],G=["swipeContainer"],J=["reorderList"],K=["elasticContent"],V=(v,e)=>e.id;function Z(v,e){if(v&1&&(i(0,"div",38)(1,"div",39)(2,"span",40),a(3),r(),i(4,"span",41),a(5),r()(),i(6,"div",42)(7,"span",43),a(8,"\u2717"),r(),i(9,"span",44),a(10,"\u2713"),r()()()),v&2){let n=e.$implicit,t=e.$index,o=T();X("background",n.color)("z-index",o.swipeCards().length-t),u(3),C(n.icon),u(2),C(n.title)}}function ee(v,e){if(v&1&&(i(0,"li",33)(1,"span",45),a(2,"\u22EE\u22EE"),r(),i(3,"span",46),a(4),r()()),v&2){let n=e.$implicit;D("data-id",n.id),u(4),C(n.text)}}function te(v,e){v&1&&(i(0,"span"),a(1,"Release to refresh"),r())}function ne(v,e){v&1&&(i(0,"span"),a(1,"Pull down"),r())}var U=class v{dragBox1=x("dragBox1");dragHorizontal=x("dragHorizontal");dragVertical=x("dragVertical");sliderTrack=x("sliderTrack");sliderThumb=x("sliderThumb");sliderFill=x("sliderFill");swipeContainer=x("swipeContainer");reorderList=x("reorderList");elasticContent=x("elasticContent");sliderValue=E(50);pullProgress=E(0);swipeCards=E([{id:1,icon:"\u{1F3A8}",title:"Design",color:"linear-gradient(135deg, #ec4899, #be185d)"},{id:2,icon:"\u26A1",title:"Speed",color:"linear-gradient(135deg, #f59e0b, #d97706)"},{id:3,icon:"\u{1F680}",title:"Launch",color:"linear-gradient(135deg, #6366f1, #4f46e5)"}]);listItems=E([{id:1,text:"First Item"},{id:2,text:"Second Item"},{id:3,text:"Third Item"},{id:4,text:"Fourth Item"}]);cleanupFns=[];constructor(){_(()=>{this.setupDragInteractions()})}ngOnDestroy(){this.cleanupFns.forEach(e=>e())}setupDragInteractions(){this.setupBasicDrag(),this.setupConstrainedDrag(),this.setupSlider(),this.setupSwipeCards(),this.setupReorderableList(),this.setupElasticPull()}setupBasicDrag(){let e=this.dragBox1()?.nativeElement;if(!e)return;let n=0,t=0,o=0,s=0,c=!1,p=l=>{c=!0,n=l.clientX-o,t=l.clientY-s,e.setPointerCapture(l.pointerId)},m=l=>{c&&(o=l.clientX-n,s=l.clientY-t,g(e,{x:o,y:s},{duration:0}))},d=()=>{c=!1,g(e,{x:0,y:0},{type:b,stiffness:300,damping:20}),o=0,s=0};e.addEventListener("pointerdown",p),e.addEventListener("pointermove",m),e.addEventListener("pointerup",d),this.cleanupFns.push(()=>{e.removeEventListener("pointerdown",p),e.removeEventListener("pointermove",m),e.removeEventListener("pointerup",d)})}setupConstrainedDrag(){let e=this.dragHorizontal()?.nativeElement,n=this.dragVertical()?.nativeElement;if(e){let t=0,o=0,s=!1,c=d=>{s=!0,t=d.clientX-o,e.setPointerCapture(d.pointerId)},p=d=>{s&&(o=Math.max(-75,Math.min(75,d.clientX-t)),g(e,{x:o},{duration:0}))},m=()=>{s=!1};e.addEventListener("pointerdown",c),e.addEventListener("pointermove",p),e.addEventListener("pointerup",m),this.cleanupFns.push(()=>{e.removeEventListener("pointerdown",c),e.removeEventListener("pointermove",p),e.removeEventListener("pointerup",m)})}if(n){let t=0,o=0,s=!1,c=d=>{s=!0,t=d.clientY-o,n.setPointerCapture(d.pointerId)},p=d=>{s&&(o=Math.max(0,Math.min(100,d.clientY-t)),g(n,{y:o},{duration:0}))},m=()=>{s=!1};n.addEventListener("pointerdown",c),n.addEventListener("pointermove",p),n.addEventListener("pointerup",m),this.cleanupFns.push(()=>{n.removeEventListener("pointerdown",c),n.removeEventListener("pointermove",p),n.removeEventListener("pointerup",m)})}}setupSlider(){let e=this.sliderTrack()?.nativeElement,n=this.sliderThumb()?.nativeElement,t=this.sliderFill()?.nativeElement;if(!e||!n||!t)return;let o=e.offsetWidth,s=this.sliderValue()/100*o;g(n,{x:s},{duration:0}),g(t,{scaleX:this.sliderValue()/100},{duration:0});let c=!1,p=h=>{let f=e.getBoundingClientRect(),L=Math.max(0,Math.min(f.width,h-f.left)),P=L/f.width*100;g(n,{x:L},{duration:0}),g(t,{scaleX:P/100},{duration:0}),this.sliderValue.set(Math.round(P))},m=h=>{c=!0,n.setPointerCapture(h.pointerId),p(h.clientX)},d=h=>{c&&p(h.clientX)},l=()=>{c=!1};n.addEventListener("pointerdown",m),n.addEventListener("pointermove",d),n.addEventListener("pointerup",l),this.cleanupFns.push(()=>{n.removeEventListener("pointerdown",m),n.removeEventListener("pointermove",d),n.removeEventListener("pointerup",l)})}setupSwipeCards(){let e=this.swipeContainer()?.nativeElement;if(!e)return;let n=e.querySelectorAll(".swipe-card");if(!n.length)return;let t=n[0],o=0,s=0,c=!1,p=l=>{c=!0,o=l.clientX,t.setPointerCapture(l.pointerId)},m=l=>{if(!c)return;s=l.clientX-o;let h=s*.05;g(t,{x:s,rotate:h},{duration:0});let f=t.querySelector(".swipe-actions");f&&(f.style.opacity=String(Math.min(1,Math.abs(s)/100)))},d=()=>{if(c=!1,Math.abs(s)>100){let l=s>0?1:-1;g(t,{x:l*500,opacity:0,rotate:l*30},{duration:.3})}else{g(t,{x:0,rotate:0},{type:b,stiffness:300,damping:20});let l=t.querySelector(".swipe-actions");l&&(l.style.opacity="0")}s=0};t.addEventListener("pointerdown",p),t.addEventListener("pointermove",m),t.addEventListener("pointerup",d),this.cleanupFns.push(()=>{t.removeEventListener("pointerdown",p),t.removeEventListener("pointermove",m),t.removeEventListener("pointerup",d)})}setupReorderableList(){let e=this.reorderList()?.nativeElement;if(!e)return;e.querySelectorAll(".reorder-item").forEach(t=>{let o=t,s=0,c=0,p=!1,m=h=>{p=!0,s=h.clientY,o.setPointerCapture(h.pointerId),g(o,{scale:1.02,boxShadow:"0 8px 20px rgba(0,0,0,0.3)"},{duration:.1})},d=h=>{p&&(c=h.clientY-s,g(o,{y:c},{duration:0}))},l=()=>{p=!1,g(o,{y:0,scale:1,boxShadow:"none"},{type:b,stiffness:300,damping:25}),c=0};o.addEventListener("pointerdown",m),o.addEventListener("pointermove",d),o.addEventListener("pointerup",l),this.cleanupFns.push(()=>{o.removeEventListener("pointerdown",m),o.removeEventListener("pointermove",d),o.removeEventListener("pointerup",l)})})}setupElasticPull(){let e=this.elasticContent()?.nativeElement;if(!e)return;let n=0,t=0,o=!1,s=.4,c=d=>{o=!0,n=d.clientY,e.setPointerCapture(d.pointerId)},p=d=>{if(!o)return;let l=d.clientY-n;l>0&&(t=l*s,g(e,{y:t},{duration:0}),this.pullProgress.set(Math.min(1,t/80)))},m=()=>{o=!1,g(e,{y:0},{type:b,stiffness:300,damping:25}),this.pullProgress.set(0),t=0};e.addEventListener("pointerdown",c),e.addEventListener("pointermove",p),e.addEventListener("pointerup",m),this.cleanupFns.push(()=>{e.removeEventListener("pointerdown",c),e.removeEventListener("pointermove",p),e.removeEventListener("pointerup",m)})}static \u0275fac=function(n){return new(n||v)};static \u0275cmp=S({type:v,selectors:[["app-chapter3-lesson3"]],viewQuery:function(n,t){n&1&&F(t.dragBox1,j,5)(t.dragHorizontal,q,5)(t.dragVertical,A,5)(t.sliderTrack,$,5)(t.sliderThumb,Q,5)(t.sliderFill,W,5)(t.swipeContainer,G,5)(t.reorderList,J,5)(t.elasticContent,K,5),n&2&&H(9)},decls:99,vars:34,consts:[["dragArea1",""],["dragBox1",""],["dragHorizontal",""],["dragVertical",""],["sliderTrack",""],["sliderFill",""],["sliderThumb",""],["swipeContainer",""],["reorderList",""],["elasticContainer",""],["elasticIndicator",""],["elasticContent",""],["chapter","3","title","Drag Interactions","description","Create draggable elements with smooth animations. Implement sliders, cards, and gesture-driven interfaces."],[1,"demo-section"],[1,"section-title"],[1,"section-desc"],[1,"demo-area","drag-area"],[1,"drag-box"],[1,"code-block"],[1,"demo-area"],[1,"constrained-demos"],[1,"constrained-track","horizontal"],[1,"constrained-box"],[1,"constrained-track","vertical"],[1,"slider-container"],[1,"slider-track"],[1,"slider-fill"],[1,"slider-thumb"],[1,"slider-value"],[1,"demo-area","swipe-area"],[1,"swipe-container"],[1,"swipe-card",3,"background","z-index"],[1,"reorder-list"],[1,"reorder-item"],[1,"elastic-container"],[1,"elastic-indicator"],[1,"elastic-content"],[1,"content-item"],[1,"swipe-card"],[1,"swipe-content"],[1,"swipe-icon"],[1,"swipe-title"],[1,"swipe-actions"],[1,"action-left"],[1,"action-right"],[1,"drag-handle"],[1,"item-text"]],template:function(n,t){n&1&&(i(0,"app-lesson-layout",12)(1,"section",13)(2,"h2",14),a(3,"1. Basic Draggable"),r(),i(4,"p",15),a(5,"Drag the element and watch it snap back."),r(),i(6,"div",16,0)(8,"div",17,1),a(10," Drag Me "),r()(),i(11,"div",18)(12,"pre"),a(13),r()()(),i(14,"section",13)(15,"h2",14),a(16,"2. Constrained Drag"),r(),i(17,"p",15),a(18,"Drag limited to horizontal or vertical axis."),r(),i(19,"div",19)(20,"div",20)(21,"div",21)(22,"div",22,2),a(24,"\u2194"),r()(),i(25,"div",23)(26,"div",22,3),a(28,"\u2195"),r()()()(),i(29,"div",18)(30,"pre"),a(31),r()()(),i(32,"section",13)(33,"h2",14),a(34,"3. Custom Slider"),r(),i(35,"p",15),a(36,"Drag-based range slider with smooth animation."),r(),i(37,"div",19)(38,"div",24)(39,"div",25,4),I(41,"div",26,5)(43,"div",27,6),r(),i(45,"div",28),a(46),r()()(),i(47,"div",18)(48,"pre"),a(49),r()()(),i(50,"section",13)(51,"h2",14),a(52,"4. Swipe to Dismiss"),r(),i(53,"p",15),a(54,"Tinder-style swipe cards with rotation."),r(),i(55,"div",29)(56,"div",30,7),M(58,Z,11,6,"div",31,V),r()(),i(60,"div",18)(61,"pre"),a(62),r()()(),i(63,"section",13)(64,"h2",14),a(65,"5. Reorderable List"),r(),i(66,"p",15),a(67,"Drag items to reorder the list."),r(),i(68,"div",19)(69,"ul",32,8),M(71,ee,5,2,"li",33,V),r()(),i(73,"div",18)(74,"pre"),a(75),r()()(),i(76,"section",13)(77,"h2",14),a(78,"6. Elastic Pull"),r(),i(79,"p",15),a(80,"Pull-to-refresh style elastic resistance."),r(),i(81,"div",19)(82,"div",34,9)(84,"div",35,10),O(86,te,2,0,"span")(87,ne,2,0,"span"),r(),i(88,"div",36,11)(90,"div",37),a(91,"Item 1"),r(),i(92,"div",37),a(93,"Item 2"),r(),i(94,"div",37),a(95,"Item 3"),r()()()(),i(96,"div",18)(97,"pre"),a(98),r()()()()),n&2&&(u(13),w(`element.addEventListener('pointerdown', startDrag)
element.addEventListener('pointermove', onDrag)
element.addEventListener('pointerup', () => `,"{",`
  // Snap back with spring
  animate(element, `,"{"," x: 0, y: 0 ","}",", ","{"," type: spring ","}",`)
`,"}",")"),u(18),w(`// Horizontal only
onDrag = (e) => `,"{",`
  const x = clamp(e.clientX - startX, -100, 100)
  animate(element, `,"{"," x ","}",", ","{"," duration: 0 ","}",`)
`,"}"),u(15),z("",t.sliderValue(),"%"),u(3),R(`// Update fill and value based on thumb position
const percent = (thumbX / trackWidth) * 100
animate(fill, `,"{"," scaleX: percent / 100 ","}",`)
setValue(Math.round(percent))`),u(9),y(t.swipeCards()),u(4),w("onDrag = (e) => ","{",`
  const x = e.clientX - startX
  const rotate = x * 0.1 // Rotation based on drag distance
  animate(card, `,"{"," x, rotate ","}",`)
`,"}",`

onRelease = () => `,"{",`
  if (Math.abs(x) > threshold) dismissCard()
  else snapBack()
`,"}"),u(9),y(t.listItems()),u(4),Y(`// Calculate new position based on drag
const newIndex = Math.floor((dragY + itemHeight/2) / itemHeight)
if (newIndex !== currentIndex) `,"{",`
  reorderItems(currentIndex, newIndex)
  animate(items, `,"{"," y: getPositions() ","}",`)
`,"}"),u(11),k(t.pullProgress()>.8?86:87),u(12),N(`// Apply elastic resistance
const resistance = 0.5
const elasticY = y * resistance
animate(content, `,"{"," y: elasticY ","}",`)

onRelease = () => `,"{",`
  if (y > threshold) triggerRefresh()
  animate(content, `,"{"," y: 0 ","}",", ","{"," type: spring ","}",`)
`,"}"))},dependencies:[B],styles:[".demo-section[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-xl);padding:24px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:8px}.section-desc[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:20px}.demo-area[_ngcontent-%COMP%]{min-height:200px;background:var(--bg-tertiary);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;margin-bottom:16px;padding:24px}.code-block[_ngcontent-%COMP%]{background:var(--bg-tertiary);border-radius:var(--radius-md);padding:16px;font-family:SF Mono,Fira Code,monospace;font-size:13px;overflow-x:auto}.code-block[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary)}.drag-area[_ngcontent-%COMP%]{min-height:250px;position:relative}.drag-box[_ngcontent-%COMP%]{width:100px;height:100px;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;cursor:grab;-webkit-user-select:none;user-select:none;touch-action:none}.drag-box[_ngcontent-%COMP%]:active{cursor:grabbing}.constrained-demos[_ngcontent-%COMP%]{display:flex;gap:40px;align-items:center}.constrained-track[_ngcontent-%COMP%]{background:var(--bg-hover);border-radius:var(--radius-full);position:relative}.constrained-track.horizontal[_ngcontent-%COMP%]{width:200px;height:50px}.constrained-track.vertical[_ngcontent-%COMP%]{width:50px;height:150px}.constrained-box[_ngcontent-%COMP%]{width:50px;height:50px;background:var(--accent-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px;cursor:grab;-webkit-user-select:none;user-select:none;touch-action:none;position:absolute}.horizontal[_ngcontent-%COMP%]   .constrained-box[_ngcontent-%COMP%], .vertical[_ngcontent-%COMP%]   .constrained-box[_ngcontent-%COMP%]{left:0;top:0}.slider-container[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center;gap:16px}.slider-track[_ngcontent-%COMP%]{flex:1;height:8px;background:var(--bg-hover);border-radius:var(--radius-full);position:relative}.slider-fill[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;background:var(--accent-primary);border-radius:var(--radius-full);transform-origin:left}.slider-thumb[_ngcontent-%COMP%]{width:24px;height:24px;background:#fff;border-radius:50%;position:absolute;top:50%;left:0;transform:translate(-50%,-50%);box-shadow:var(--shadow-md);cursor:grab;touch-action:none}.slider-value[_ngcontent-%COMP%]{width:50px;font-size:18px;font-weight:600;text-align:right}.swipe-area[_ngcontent-%COMP%]{min-height:320px}.swipe-container[_ngcontent-%COMP%]{position:relative;width:250px;height:300px}.swipe-card[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:var(--radius-xl);padding:24px;display:flex;flex-direction:column;cursor:grab;touch-action:none;-webkit-user-select:none;user-select:none}.swipe-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px}.swipe-icon[_ngcontent-%COMP%]{font-size:48px}.swipe-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#fff}.swipe-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:24px;opacity:0}.action-left[_ngcontent-%COMP%]{color:#ef4444}.action-right[_ngcontent-%COMP%]{color:#22c55e}.reorder-list[_ngcontent-%COMP%]{list-style:none;width:280px}.reorder-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:var(--radius-md);margin-bottom:8px;cursor:grab;-webkit-user-select:none;user-select:none;touch-action:none}.drag-handle[_ngcontent-%COMP%]{color:var(--text-tertiary);cursor:grab}.item-text[_ngcontent-%COMP%]{flex:1}.elastic-container[_ngcontent-%COMP%]{width:280px;height:200px;background:var(--bg-hover);border-radius:var(--radius-lg);overflow:hidden;position:relative}.elastic-indicator[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;right:0;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;color:var(--text-tertiary)}.elastic-content[_ngcontent-%COMP%]{padding:16px;touch-action:none}.content-item[_ngcontent-%COMP%]{padding:12px;background:var(--bg-tertiary);border-radius:var(--radius-md);margin-bottom:8px}"],changeDetection:0})};export{U as Chapter3Lesson3};
