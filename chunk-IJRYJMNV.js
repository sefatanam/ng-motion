import{a as L}from"./chunk-KOH55JOY.js";import{$a as I,Bb as p,Ga as h,Ha as v,Ia as P,Ka as S,La as O,Na as e,Oa as n,P as d,Pa as x,Q as l,Sa as E,Ta as m,Ua as b,_a as k,aa as u,ab as D,bb as _,cb as T,db as i,eb as C,fb as M,na as s,tb as f,xb as y,ya as w}from"./chunk-LTFMD4SH.js";var B=["mainIsland"],z=["content1"],N=["content2"],j=["progressBar"],F=["morphIcon"],H=["timerBar"];function R(o,a){o&1&&(e(0,"div",17,6),x(2,"div",41),n())}function A(o,a){if(o&1&&x(0,"div",49),o&2){let r=a.$implicit;D("height",r,"%")}}function q(o,a){if(o&1&&(e(0,"div",18,7)(2,"div",42)(3,"div",43),i(4,"\u{1F3B5}"),n()(),e(5,"div",44)(6,"div",45),S(7,A,1,2,"div",46,P),n()(),e(9,"div",47)(10,"button",48),i(11,"\u23F8"),n(),e(12,"button",48),i(13,"\u23ED"),n()()()),o&2){let r=b();s(7),O(r.waveformBars)}}function Q(o,a){if(o&1&&(e(0,"div",19,8)(2,"div",50),i(3,"\u23F1"),n(),e(4,"div",51)(5,"span",52),i(6),n()(),e(7,"div",53),x(8,"div",54,9),n()()),o&2){let r=b();s(6),C(r.timerValue())}}function $(o,a){if(o&1&&(e(0,"div",20,10)(2,"div",55),x(3,"div",56),e(4,"span"),i(5,"\u{1F464}"),n()(),e(6,"div",57)(7,"span",58),i(8,"Sarah Connor"),n(),e(9,"span",59),i(10),n()(),e(11,"div",60)(12,"button",61),i(13,"\u{1F4DE}"),n()()()),o&2){let r=b();s(10),C(r.callDuration())}}function G(o,a){o&1&&(e(0,"div",21,11)(2,"div",62),i(3,"\u2197"),n(),e(4,"div",63)(5,"span",64),i(6,"200m"),n(),e(7,"span",65),i(8,"Turn right on Main St"),n()(),e(9,"div",66),i(10,"3 min"),n()())}var V=class o{mainIsland=f("mainIsland");content1=f("content1");content2=f("content2");progressBar=f("progressBar");morphIcon=f("morphIcon");timerBar=f("timerBar");currentState=u("idle");crossfadeState=u(1);progressValue=u(0);currentIcon=u("\u{1F3B5}");timerValue=u("00:45");callDuration=u("02:34");waveformBars=[40,70,50,80,60,90,45,75,55,85];icons=["\u{1F3B5}","\u{1F4DE}","\u23F1","\u{1F514}","\u{1F4CD}","\u2708\uFE0F"];iconIndex=0;timerInterval;switchState(a){let r=this.mainIsland()?.nativeElement;if(!r)return;let t=r.querySelector(".island-state");t&&p(t,{opacity:0,scale:.9},{duration:.15}),setTimeout(()=>{this.currentState.set(a),setTimeout(()=>{let c=r.querySelector(".island-state");c&&p(c,{opacity:[0,1],scale:[.9,1]},{duration:.2,type:y,stiffness:400,damping:30}),a==="timer"?this.startTimerAnimation():this.stopTimerAnimation()},50)},150)}startTimerAnimation(){let a=this.timerBar()?.nativeElement;a&&p(r=>{a.style.width=`${r*100}%`},{duration:45,ease:"linear"})}stopTimerAnimation(){this.timerInterval&&clearInterval(this.timerInterval)}toggleCrossfade(){let a=this.content1()?.nativeElement,r=this.content2()?.nativeElement;if(!a||!r)return;let t=this.crossfadeState()===2;this.crossfadeState.set(t?1:2),p(a,{opacity:t?1:0,x:t?0:-20},{duration:.3}),p(r,{opacity:t?0:1,x:t?20:0},{duration:.3})}simulateProgress(){let a=this.progressBar()?.nativeElement;if(!a)return;this.progressValue.set(0),a.style.width="0%",p(c=>{a.style.width=`${c*100}%`},{duration:3,ease:"ease-out"});let r=0,t=setInterval(()=>{r+=2,this.progressValue.set(Math.min(r,100)),r>=100&&clearInterval(t)},60)}cycleIcon(){let a=this.morphIcon()?.nativeElement;a&&p(a,{scale:0,rotate:"180deg"},{duration:.2}).then(()=>{this.iconIndex=(this.iconIndex+1)%this.icons.length,this.currentIcon.set(this.icons[this.iconIndex]),p(a,{scale:1,rotate:"0deg"},{type:y,stiffness:400,damping:20})})}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=w({type:o,selectors:[["app-chapter7-lesson2"]],viewQuery:function(r,t){r&1&&k(t.mainIsland,B,5)(t.content1,z,5)(t.content2,N,5)(t.progressBar,j,5)(t.morphIcon,F,5)(t.timerBar,H,5),r&2&&I(6)},decls:74,vars:19,consts:[["mainIsland",""],["crossfadeIsland",""],["content1",""],["content2",""],["progressBar",""],["morphIcon",""],["idleContent",""],["musicContent",""],["timerContent",""],["timerBar",""],["callContent",""],["directionsContent",""],["title","State Transitions","description","Content transitions within Dynamic Island - crossfades, content morphing, and state-specific animations","chapter","7"],[1,"demos-grid"],[1,"demo-section","full-width"],[1,"island-stage"],[1,"dynamic-island"],[1,"island-state","idle-state"],[1,"island-state","music-state"],[1,"island-state","timer-state"],[1,"island-state","call-state"],[1,"island-state","directions-state"],[1,"state-buttons"],[3,"click"],[1,"demo-section"],[1,"crossfade-container"],[1,"crossfade-island"],[1,"crossfade-content","content-1"],[1,"crossfade-content","content-2"],[1,"controls"],[1,"progress-container"],[1,"progress-island"],[1,"progress-icon"],[1,"progress-info"],[1,"progress-label"],[1,"progress-bar-bg"],[1,"progress-bar-fill"],[1,"progress-percent"],[1,"icon-morph-container"],[1,"icon-island"],[1,"morph-icon"],[1,"notch-camera"],[1,"music-artwork"],[1,"artwork-placeholder"],[1,"music-info"],[1,"music-waveform"],[1,"wave-bar",3,"height"],[1,"music-controls"],[1,"control-btn"],[1,"wave-bar"],[1,"timer-icon"],[1,"timer-display"],[1,"timer-value"],[1,"timer-progress"],[1,"timer-bar"],[1,"call-avatar"],[1,"avatar-ring"],[1,"call-info"],[1,"call-name"],[1,"call-duration"],[1,"call-actions"],[1,"end-call"],[1,"direction-arrow"],[1,"direction-info"],[1,"direction-distance"],[1,"direction-street"],[1,"direction-eta"]],template:function(r,t){if(r&1){let c=E();e(0,"app-lesson-layout",12)(1,"div",13)(2,"div",14)(3,"h3"),i(4,"Dynamic Island States"),n(),e(5,"div",15)(6,"div",16,0),h(8,R,3,0,"div",17),h(9,q,14,0,"div",18),h(10,Q,10,1,"div",19),h(11,$,14,1,"div",20),h(12,G,11,0,"div",21),n()(),e(13,"div",22)(14,"button",23),m("click",function(){return d(c),l(t.switchState("idle"))}),i(15," Idle "),n(),e(16,"button",23),m("click",function(){return d(c),l(t.switchState("music"))}),i(17," Music "),n(),e(18,"button",23),m("click",function(){return d(c),l(t.switchState("timer"))}),i(19," Timer "),n(),e(20,"button",23),m("click",function(){return d(c),l(t.switchState("call"))}),i(21," Call "),n(),e(22,"button",23),m("click",function(){return d(c),l(t.switchState("directions"))}),i(23," Directions "),n()()(),e(24,"div",24)(25,"h3"),i(26,"Content Crossfade"),n(),e(27,"div",25)(28,"div",26,1)(30,"div",27,2)(32,"span"),i(33,"\u{1F514}"),n(),e(34,"span"),i(35,"3 Notifications"),n()(),e(36,"div",28,3)(38,"span"),i(39,"\u{1F4E7}"),n(),e(40,"span"),i(41,"New Message"),n()()()(),e(42,"div",29)(43,"button",23),m("click",function(){return d(c),l(t.toggleCrossfade())}),i(44,"Toggle Content"),n()()(),e(45,"div",24)(46,"h3"),i(47,"Progress Animation"),n(),e(48,"div",30)(49,"div",31)(50,"div",32),i(51,"\u2B07\uFE0F"),n(),e(52,"div",33)(53,"span",34),i(54,"Downloading..."),n(),e(55,"div",35),x(56,"div",36,4),n()(),e(58,"span",37),i(59),n()()(),e(60,"div",29)(61,"button",23),m("click",function(){return d(c),l(t.simulateProgress())}),i(62,"Start Download"),n()()(),e(63,"div",24)(64,"h3"),i(65,"Icon Morphing"),n(),e(66,"div",38)(67,"div",39)(68,"div",40,5),i(70),n()()(),e(71,"div",29)(72,"button",23),m("click",function(){return d(c),l(t.cycleIcon())}),i(73,"Morph Icon"),n()()()()()}r&2&&(s(6),T("state-"+t.currentState()),s(2),v(t.currentState()==="idle"?8:-1),s(),v(t.currentState()==="music"?9:-1),s(),v(t.currentState()==="timer"?10:-1),s(),v(t.currentState()==="call"?11:-1),s(),v(t.currentState()==="directions"?12:-1),s(2),_("active",t.currentState()==="idle"),s(2),_("active",t.currentState()==="music"),s(2),_("active",t.currentState()==="timer"),s(2),_("active",t.currentState()==="call"),s(2),_("active",t.currentState()==="directions"),s(37),M("",t.progressValue(),"%"),s(11),M(" ",t.currentIcon()," "))},dependencies:[L],styles:[".demos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem}.demo-section[_ngcontent-%COMP%]{background:var(--card-bg);border:1px solid var(--border-color);border-radius:12px;padding:1.5rem}.demo-section.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.demo-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.875rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.island-stage[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background:linear-gradient(180deg,#1a1a2e,#0d0d1a);border-radius:12px;min-height:120px}.dynamic-island[_ngcontent-%COMP%]{background:#000;border-radius:50px;display:flex;align-items:center;padding:8px 12px;min-width:120px;box-shadow:0 4px 20px #00000080,inset 0 0 0 1px #ffffff0d;transition:all .4s cubic-bezier(.4,0,.2,1)}.dynamic-island.state-idle[_ngcontent-%COMP%]{width:126px;height:37px;padding:0;justify-content:center}.dynamic-island.state-music[_ngcontent-%COMP%]{width:280px;height:50px}.dynamic-island.state-timer[_ngcontent-%COMP%]{width:200px;height:44px}.dynamic-island.state-call[_ngcontent-%COMP%]{width:260px;height:50px}.dynamic-island.state-directions[_ngcontent-%COMP%]{width:300px;height:50px}.island-state[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;gap:12px}.idle-state[_ngcontent-%COMP%]{justify-content:center}.notch-camera[_ngcontent-%COMP%]{width:12px;height:12px;background:#1a1a2e;border-radius:50%;box-shadow:inset 0 0 4px #00000080}.music-artwork[_ngcontent-%COMP%]{width:36px;height:36px;background:linear-gradient(135deg,var(--accent),#ff6b6b);border-radius:8px;display:flex;align-items:center;justify-content:center}.music-info[_ngcontent-%COMP%]{flex:1}.music-waveform[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:3px;height:24px}.wave-bar[_ngcontent-%COMP%]{width:3px;background:var(--accent);border-radius:2px;animation:_ngcontent-%COMP%_wave .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_wave{0%{opacity:.4}to{opacity:1}}.music-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.control-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1rem;cursor:pointer;padding:4px}.timer-icon[_ngcontent-%COMP%]{font-size:1.25rem}.timer-display[_ngcontent-%COMP%]{flex:1}.timer-value[_ngcontent-%COMP%]{font-family:monospace;font-size:1.5rem;color:#ff9f0a;font-weight:600}.timer-progress[_ngcontent-%COMP%]{width:40px;height:4px;background:#fff3;border-radius:2px;overflow:hidden}.timer-bar[_ngcontent-%COMP%]{height:100%;background:#ff9f0a;width:0%}.call-avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:linear-gradient(135deg,#34c759,#30d158);border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative}.avatar-ring[_ngcontent-%COMP%]{position:absolute;inset:-4px;border:2px solid rgba(52,199,89,.5);border-radius:50%;animation:_ngcontent-%COMP%_pulse-ring 1.5s ease-out infinite}@keyframes _ngcontent-%COMP%_pulse-ring{0%{transform:scale(1);opacity:1}to{transform:scale(1.3);opacity:0}}.call-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.call-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#fff}.call-duration[_ngcontent-%COMP%]{font-size:.75rem;color:#34c759}.end-call[_ngcontent-%COMP%]{width:32px;height:32px;background:#ff3b30;border:none;border-radius:50%;cursor:pointer}.direction-arrow[_ngcontent-%COMP%]{width:36px;height:36px;background:#007aff;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.25rem;color:#fff}.direction-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.direction-distance[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#fff}.direction-street[_ngcontent-%COMP%]{font-size:.7rem;color:#fff9}.direction-eta[_ngcontent-%COMP%]{font-size:.875rem;color:#34c759;font-weight:500}.state-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:.5rem;margin-top:1.5rem}.state-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-secondary);cursor:pointer;font-size:.875rem;transition:all .2s}.state-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:var(--accent);color:var(--text-primary)}.state-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--accent);border-color:var(--accent);color:#fff}.crossfade-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1.5rem;background:linear-gradient(180deg,#1a1a2e,#0d0d1a);border-radius:8px}.crossfade-island[_ngcontent-%COMP%]{background:#000;border-radius:50px;padding:8px 16px;min-width:180px;height:40px;position:relative;display:flex;align-items:center;justify-content:center}.crossfade-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#fff;font-size:.875rem;position:absolute}.crossfade-content.content-2[_ngcontent-%COMP%]{opacity:0}.progress-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1.5rem;background:linear-gradient(180deg,#1a1a2e,#0d0d1a);border-radius:8px}.progress-island[_ngcontent-%COMP%]{background:#000;border-radius:50px;padding:10px 16px;display:flex;align-items:center;gap:12px;min-width:200px}.progress-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.progress-label[_ngcontent-%COMP%]{font-size:.75rem;color:#fff}.progress-bar-bg[_ngcontent-%COMP%]{height:4px;background:#fff3;border-radius:2px;overflow:hidden}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent);width:0%;border-radius:2px}.progress-percent[_ngcontent-%COMP%]{font-size:.75rem;color:var(--accent);font-weight:600;min-width:36px;text-align:right}.icon-morph-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1.5rem;background:linear-gradient(180deg,#1a1a2e,#0d0d1a);border-radius:8px}.icon-island[_ngcontent-%COMP%]{background:#000;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center}.morph-icon[_ngcontent-%COMP%]{font-size:1.5rem}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-top:1rem}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);cursor:pointer;font-size:.875rem;transition:all .2s}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--accent);border-color:var(--accent)}"],changeDetection:0})};export{V as Chapter7Lesson2};
